document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("#typechckbox .form-check-input");function t(){e.forEach((function(e){var t=e.closest(".form-check-inline").querySelector(".form-check-label img"),a=e.value.toLowerCase();t.src="images/type/"+a+".webp"}))}e.forEach((function(e){e.addEventListener("change",t)})),t()}));var types=[[1,1,1,1,1,1,1,1,1,1,1,1,.5,0,1,1,.5,1,1],[1,.5,.5,1,2,2,1,1,1,1,1,2,.5,1,.5,1,2,1,1],[1,2,.5,1,.5,1,1,1,2,1,1,1,2,1,.5,1,1,1,1],[1,1,2,.5,.5,1,1,1,0,2,1,1,1,1,.5,1,1,1,1],[1,.5,2,1,.5,1,1,.5,2,.5,1,.5,2,1,.5,1,.5,1,1],[1,.5,.5,1,2,.5,1,1,2,2,1,1,1,1,2,1,.5,1,1],[2,1,1,1,1,2,1,.5,1,.5,.5,.5,2,0,1,2,2,.5,1],[1,1,1,1,2,1,1,.5,.5,1,1,1,.5,.5,1,1,0,2,1],[1,2,1,2,.5,1,1,2,1,0,1,.5,2,1,1,1,2,1,1],[1,1,1,.5,2,1,2,1,1,1,1,2,.5,1,1,1,.5,1,1],[1,1,1,1,1,1,2,2,1,1,.5,1,1,1,1,0,.5,1,1],[1,.5,1,1,2,1,.5,.5,1,.5,2,1,1,.5,1,2,.5,.5,1],[1,2,1,1,1,2,.5,1,.5,2,1,2,1,1,1,1,.5,1,1],[0,1,1,1,1,1,1,1,1,1,2,1,1,2,1,.5,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,.5,0,1],[1,1,1,1,1,1,.5,1,1,1,2,1,1,2,1,.5,1,.5,1],[1,.5,.5,.5,1,2,1,1,1,1,1,1,2,1,1,1,.5,2,1],[1,.5,1,1,1,1,2,.5,1,1,1,1,1,1,2,2,.5,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],type_name=["Normal","Fire","Water","Electric","Grass","Ice","Fighting","Poison","Ground","Flying","Psychic","Bug","Rock","Ghost","Dragon","Dark","Steel","Fairy"];$(document).ready((function(){function e(e){if(1===e.length||2===e.length){for(var t=function(e){for(var t=[],a=[],n=0;n<=18;n++){t[n]=1;for(var r=0;r<e.length;r++)t[n]*=types[n][type_name.indexOf(e[r])];1==t[n]?a[n]="dmg_normal":t[n]<1?a[n]="dmg_resist":t[n]<.5?a[n]="dmg_resist2":0==t[n]?a[n]="dmg_immune":t[n]>1?a[n]="dmg_weak":t[n]>2&&(a[n]="dmg_weak2")}return{result:t,color:a}}(e),a="",n="✦ Damage normally by:<br>",r="✦ Weak <sup>x4</sup> to:<br>",o="✦ Weak <sup>x2</sup> to:<br>",c="✦ Resistant <sup>x1/2</sup> to:<br>",i="✦ Resistant <sup>x1/4</sup> to:<br>",s="✦ Immune to:<br>",d='<img src="images/type/none.webp" width="60">',l=!1,p=!1,b=!1,h=!1,m=!1,g=!1,y=0;y<=17;y++)1==t.result[y]?(n+=' <img src="images/type/'+type_name[y].toLowerCase()+'.webp" alt="'+type_name[y]+'" title="'+type_name[y]+'" width="60">',l=!0):t.result[y]>1&&4==t.result[y]?(r+=' <img src="images/type/'+type_name[y].toLowerCase()+'.webp" alt="'+type_name[y]+'" title="'+type_name[y]+'" width="60">',p=!0):t.result[y]>1&&2==t.result[y]?(o+=' <img src="images/type/'+type_name[y].toLowerCase()+'.webp" alt="'+type_name[y]+'" title="'+type_name[y]+'" width="60">',b=!0):0==t.result[y]?(s+=' <img src="images/type/'+type_name[y].toLowerCase()+'.webp" alt="'+type_name[y]+'" title="'+type_name[y]+'" width="60">',g=!0):t.result[y]<1&&.5==t.result[y]?(c+=' <img src="images/type/'+type_name[y].toLowerCase()+'.webp" alt="'+type_name[y]+'" title="'+type_name[y]+'" width="60">',h=!0):t.result[y]<1&&.25==t.result[y]&&(i+=' <img src="images/type/'+type_name[y].toLowerCase()+'.webp" alt="'+type_name[y]+'" title="'+type_name[y]+'" width="60">',m=!0);a+=l?n+"<br>":n+" "+d+"<br>",p||b?(p&&(a+=r+"<br>"),b&&(a+=o+"<br>")):a+="✦ Weak to:<br>"+d+"<br>",h||m?(h&&(a+=c+"<br>"),m&&(a+=i+"<br>")):a+="✦ Resistant to:<br>"+d+"<br>",a+=g?s+"<br>":s+" "+d+"<br>",$("#output-container").html(a)}}$("#ptypechckbox").change((function(){$("#ptypechckbox").is(":checked")||$(".typecard").hide()})),$("#typechckbox input[type='checkbox']").change((function(){!function(){0!==$("#typechckbox input[type='checkbox']:checked").length&&$("#ptypechckbox").prop("checked")||($(".typecard").hide(),$("#output-container").html(""));var e=$("#ptypechckbox").is(":checked"),t=0===$("#typechckbox input[type='checkbox']:checked").length;e&&t&&$(".typecard").hide()}()}));function t(e){var t="bg-steel";e.length>0&&(t={normal:"bg-normal",fire:"bg-fire",water:"bg-water",grass:"bg-grass",flying:"bg-flying",fighting:"bg-fighting",poison:"bg-poison",electric:"bg-electric",ground:"bg-ground",rock:"bg-rock",psychic:"bg-psychic",ice:"bg-ice",bug:"bg-bug",ghost:"bg-ghost",steel:"bg-steel",dragon:"bg-dragon",dark:"bg-dark",fairy:"bg-fairy"}[e[0].toLowerCase()]||t);$(".typecard").removeClass().addClass("card "+t+" border-secondary m-1 p-1 typecard"),$(".traintype-card").removeClass().addClass("card "+t+" border-secondary m-1 p-1 traintype-card")}function a(e){$.getJSON("data/battdata.json",(function(t){t.forEach((function(t){t.types[e].subtypes.forEach((function(t){Array.isArray(t.name)?r(selectedTypes,t.name)&&(t.trainers.sort(((e,t)=>t.rate-e.rate)),t.trainers.forEach((function(e){n(e)}))):t.name===e&&(t.trainers.sort(((e,t)=>t.rate-e.rate)),t.trainers.forEach((function(e){n(e)})))}))}))}))}function n(e){var t=mainLink+"battle/trainer/"+e.btid;"Inverse"===e.battleMode&&(t+="/inverse");var a='<div class="d-flex flex-column align-items-start border p-1 m-1" style="font-weight: bold;" data-battle-mode="'+e.battleMode+'" data-btid="'+e.btid+'">';a+='<div class="mb-0 d-flex align-items-center" style="width:100%; margin-left:0px; border-style: none;">',a+='<div class="bg-type"><img src="'+e.image+'" class="img-type"></div>',a+='<div class="border-right mx-3"></div>',a+='<div class="d-flex flex-column " style="width: 60%;  border-style: none;">',a+="<div><strong>"+e.name.toUpperCase()+"</strong></div>",a+='<div style="padding-top:4px;">',a+='<div class="form-check form-switch" id="btnchckbox-container-'+e.btid+'">',a+='<input class="form-check-input" type="checkbox" role="switch" id="btnchckbox-'+e.btid+'">',a+='<a href="'+t+'" target="_blank" style="margin-left: 6px;" class="btn btn-sm btn-type py-0 px-2 ',a+="Normal"===e.battleMode?"btn-outline-primary":"btn-outline-dark",a+='" id="btn-type-'+e.btid+'">',a+="Normal"===e.battleMode?"NORMAL BATTLE!":"INVERSE BATTLE!",a+="</a></div></div>",a+='<div style="padding-top:2px;">';for(var n=0;n<e.rate;n++)a+='<img src="images/base/rarity.webp" width="15" alt="" style="padding-right: 3px;">';a+="</div>",a+="</div></div>",a+='<div class="w-100 mb-0"><hr class="my-1"><div><img src="images/base/battle.webp" width="14" alt=""> ATTACK MOVE(S):</div></div>',a+='<div class="d-flex justify-content-between w-100">',e.attacks.forEach((function(t,n){a+='<div class="w-50 m-1"><div class="mt-1 mb-1"><div><small>',e.attacks.length>1?a+='<div class="mb-1">Move '+(n+1)+":</div>":a+='<div class="mb-1">Move:</div>',t.moves.forEach((function(e){a+='<div style="padding-bottom: 4px;">✧ <span class="txt txt-'+e.ptype.toLowerCase()+'">'+e.pmove+"</span></div>"})),a+="</small></div></div></div>"})),a+="</div>",a+='<div class="alert alert-info alert-white rounded mt-2 mb-1 border border-info p-1 ;">',a+='<div class="icon"><i class="fa fa-info-circle"></i></div>',a+='<div class="text d-flex align-items-center">'+e.notes+"</div>",a+="</div></div>",$(document).off("change","#btnchckbox-"+e.btid).on("change","#btnchckbox-"+e.btid,(function(){var t=e.battleMode;e.battleMode="Normal"===t?"Inverse":"Normal";var a=(isMobile(),mainLink+"/battle/trainer/"+e.btid);a+="Normal"===e.battleMode?"":"/inverse";var n="Normal"===e.battleMode?"NORMAL BATTLE!":"INVERSE BATTLE!",r="Normal"===e.battleMode?"btn-outline-primary":"btn-outline-dark";$("#btn-type-"+e.btid).html(n).removeClass("btn-outline-primary btn-outline-dark").addClass(r),$("#btn-type-"+e.btid).attr("href",a)})),$(".traintype-container").append(a)}function r(e,t){return e.length===t.length&&e.every((e=>t.includes(e)))}$('#typechckbox input[type="checkbox"]').on("change",(function(){$('#typechckbox input[type="checkbox"]:checked').length>2?($("#checkboxInfo .text").html("<strong>SELECT ONE TO TWO POKEMON TYPES ONLY</strong>"),$("#checkboxInfo .icon i").removeClass().addClass("fa fa-info-circle"),$("#checkboxInfo").fadeIn().removeClass("alert-warning rounded border-warning").addClass("alert-info rounded border-info"),$(this).prop("checked",!1)):$("#checkboxInfo").fadeOut()})),$(".infoTC").click((function(e){e.preventDefault(),$(".typecard").fadeOut(),$("#traintype-container").fadeOut(),$("#traintype-container-2").fadeIn(),$(".traintype-card").removeClass().addClass("card bg-steel border-secondary m-1 p-1 traintype-card"),$("#txteffect-2").html('<strong class="m-1"><img src="images/base/info.webp" width="18" alt="">&nbsp;&nbsp;TYPE CHECKER INFORMATION</strong>')})),$("#searchtrainers").on("click",(function(){$("#traintype-container-2").fadeOut(),$("#traintype-container").fadeIn();var o=$('#typechckbox input[type="checkbox"]:checked').map((function(){return $(this).val()})).get();$('#typechckbox input[type="checkbox"]:checked').length>0&&$(".traintype-container").html(""),0===o.length?($("#checkboxInfo .text").html("<strong>PLEASE CHOOSE POKEMON TYPE(S)</strong>"),$("#checkboxInfo .icon i").removeClass().addClass("fa fa-warning"),$("#checkboxInfo").fadeIn().removeClass("alert-info rounded border-info").addClass("alert-warning rounded border-warning"),$(this).prop("checked",!1)):$("#checkboxInfo").fadeOut(),1===o.length?a(o[0]):2===o.length&&function(e){$.getJSON("data/battdata.json",(function(t){t.forEach((function(t){Object.values(t.types).forEach((function(t){t.subtypes.forEach((function(t){Array.isArray(t.name)&&r(e,t.name)&&(t.trainers.sort(((e,t)=>t.rate-e.rate)),t.trainers.forEach((function(e){n(e)})))}))}))}))}))}(o),function(e){1===e.length?($("#txteffect").html('<strong class="m-1">'+e[0].toUpperCase()+" TYPE EFFECTIVENESS</strong>"),$("#txteffect-2").html('<strong class="m-1">'+e[0].toUpperCase()+" TYPE TRAINER(S)</strong>")):2===e.length&&($("#txteffect").html('<strong class="m-1">'+e.join(" AND ").toUpperCase()+" TYPES EFFECTIVENESS</strong>"),$("#txteffect-2").html('<strong class="m-1">'+e.join(" AND ").toUpperCase()+" TYPES TRAINER(S)</strong>"))}(o),t(o),function(){var a=[],n=$("#ptypechckbox").is(":checked");$("#typechckbox input[type='checkbox']:checked").each((function(){a.push($(this).val())})),n&&a.length>0?$(".typecard").show():$(".typecard").hide();a.length>2&&$("#typechckbox input[type='checkbox']:checked").not(":last").prop("checked",!1);if($("#ptypechckbox-container input[type='checkbox']").prop("checked")&&a.length>0){t(a);var r=e(a);$("#output-container").html(r),$(".typecard").show()}else $(".typecard").hide()}(),$(".traintype-card").show()}))}));